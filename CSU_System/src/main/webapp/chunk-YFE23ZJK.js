import{a as L}from"./chunk-MC4TDR63.js";import{e as I,h as C,i as O}from"./chunk-OLTWCF2P.js";import{$a as c,Ea as f,Ja as g,Ob as E,Pb as N,Qa as l,Sb as b,Ua as o,Va as i,W as d,X as p,Za as y,_a as S,hb as s,ib as _,jb as u,kb as x,qb as m,ua as n,ya as v}from"./chunk-ILAX3XGE.js";import"./chunk-FDERIQAA.js";var T=t=>[t];function F(t,r){t&1&&(o(0,"div"),s(1,"Cargando..."),i())}function M(t,r){if(t&1&&(o(0,"div",8),s(1),i()),t&2){let e=c();n(),_(e.error)}}function k(t,r){if(t&1){let e=y();o(0,"div",9)(1,"div",10)(2,"strong"),s(3),i(),o(4,"div",11)(5,"a",12),s(6,"Editar"),i(),o(7,"button",13),S("click",function(){let A=d(e).$implicit,R=c();return p(R.deleteSurveyor(A.id))}),s(8,"Eliminar"),i()()(),o(9,"p",14),s(10),i(),o(11,"p",14),s(12),i(),o(13,"p",14),s(14),i()()}if(t&2){let e=r.$implicit,a=c();n(3),x("",e.firstName," ",e.lastName,""),n(2),l("routerLink",m(6,T,a.paths.Admin.Surveyors.Edit(e.id))),n(5),u("DNI: ",e.dni,""),n(2),u("G\xE9nero: ",a.genderLabels[e.gender]||e.gender,""),n(2),u("Ocupaci\xF3n: ",a.occupationLabels[e.occupation]||e.occupation,"")}}function D(t,r){t&1&&(o(0,"p",14),s(1," No hay encuestadores registrados. "),i())}var h=class t{constructor(r){this.surveyorService=r}surveyors=[];loading=!0;error=null;paths=O;genderLabels={WOMAN_CIS:"Mujer cis",MAN_CIS:"Var\xF3n cis",WOMAN_TRANS:"Mujer trans",MAN_TRANS:"Var\xF3n trans",NON_BINARY:"No binarie",OTHER_IDENTITY:"Otro",DONT_KNOW_OR_NO_ANSWER:"No sabe o no contesta"};occupationLabels={STUDENT:"Estudiante",PROFESSIONAL:"Profesional",CSU_STAFF:"Personal CSU",VOLUNTEER:"Voluntario",OTHER:"Otro"};ngOnInit(){this.surveyorService.getAll().subscribe({next:r=>{this.surveyors=r,this.loading=!1},error:()=>{this.error="Error al cargar los encuestadores",this.loading=!1}})}deleteSurveyor(r){confirm("\xBFEst\xE1s seguro que quer\xE9s eliminar este encuestador?")&&this.surveyorService.delete(r).subscribe({next:()=>{this.surveyors=this.surveyors.filter(e=>e.id!==r)},error:()=>{this.error="Error al eliminar el encuestador"}})}static \u0275fac=function(e){return new(e||t)(v(L))};static \u0275cmp=f({type:t,selectors:[["app-surveyor-list"]],decls:10,vars:7,consts:[[1,"section"],[1,"container"],[1,"title"],[1,"button","is-primary","mb-4",3,"routerLink"],[4,"ngIf"],["class","notification is-danger",4,"ngIf"],["class","box",4,"ngFor","ngForOf"],["class","has-text-grey",4,"ngIf"],[1,"notification","is-danger"],[1,"box"],[1,"is-flex","is-justify-content-space-between","is-align-items-center","mb-2"],[1,"buttons"],[1,"button","is-info","is-small",3,"routerLink"],[1,"button","is-danger","is-small",3,"click"],[1,"has-text-grey"]],template:function(e,a){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1",2),s(3,"Encuestadores"),i(),o(4,"a",3),s(5,"+ Nuevo encuestador"),i(),g(6,F,2,0,"div",4)(7,M,2,1,"div",5)(8,k,15,8,"div",6)(9,D,2,0,"p",7),i()()),e&2&&(n(4),l("routerLink",m(5,T,a.paths.Admin.Surveyors.New)),n(2),l("ngIf",a.loading),n(),l("ngIf",a.error),n(),l("ngForOf",a.surveyors),n(),l("ngIf",!a.loading&&a.surveyors.length===0))},dependencies:[b,E,N,C,I],encapsulation:2})};export{h as SurveyorListComponent};
